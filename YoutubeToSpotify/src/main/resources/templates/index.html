<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymleaf.com">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>YouTube to Spotify Playlist Converter</title>

<!-- Google Font: Inter -->
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
	href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
	rel="stylesheet">

<!-- Bootstrap 5 -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	crossorigin="anonymous">

</head>
<body>
	<style>
:root {
	--brand: #1DB954; /* Spotify green */
	--ink: #0e1217;
	--muted: #6b7280;
	--bg-soft: #0b0f14;
	--card: #111827;
	--ring: rgba(29, 185, 84, .35);
}

html, body {
	height: 100%;
}

body {
	font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto,
		Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
	color: #e5e7eb;
	background: linear-gradient(180deg, #0b0f14 0%, #0f172a 100%);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* Navbar */
.navbar {
	backdrop-filter: saturate(120%) blur(8px);
	-webkit-backdrop-filter: saturate(120%) blur(8px);
	background: rgba(17, 24, 39, 0.65) !important;
	border-bottom: 1px solid rgba(255, 255, 255, .06);
}

.navbar-brand {
	font-weight: 800;
	letter-spacing: -0.02em;
}

/* Hero */
.hero {
	padding: 6rem 0 3.5rem;
}

.hero h1 {
	font-size: clamp(2rem, 3.5vw + 1rem, 3.25rem);
	font-weight: 800;
	letter-spacing: -0.02em;
	color: #f3f4f6;
}

.subtle {
	color: var(--muted);
}

/* Card */
.app-card {
	background: radial-gradient(1200px 600px at 10% -10%, rgba(29, 185, 84, .08),
		transparent 60%), linear-gradient(180deg, rgba(255, 255, 255, .04),
		rgba(255, 255, 255, .02));
	border: 1px solid rgba(255, 255, 255, .08);
	box-shadow: 0 10px 30px rgba(0, 0, 0, .35), inset 0 1px 0
		rgba(255, 255, 255, .05);
	border-radius: 1.25rem;
}

/* Inputs */
.form-control {
	background-color: #0f172a;
	border-color: rgba(255, 255, 255, .12);
	color: #e5e7eb;
}

.form-control:focus {
	color: #f9fafb;
	background-color: #0b1324;
	border-color: var(--brand);
	box-shadow: 0 0 0 .25rem var(--ring);
}

.form-label {
	font-weight: 600;
	color: #d1d5db;
}

/* Buttons */
.btn-brand {
	--bs-btn-padding-y: 0.85rem;
	--bs-btn-padding-x: 1.25rem;
	--bs-btn-font-size: 1.1rem;
	background: linear-gradient(135deg, var(--brand), #19a956);
	border: none;
	color: #06150c;
	font-weight: 800;
	letter-spacing: .02em;
	border-radius: 0.9rem;
	box-shadow: 0 10px 24px rgba(29, 185, 84, .35), 0 2px 0
		rgba(0, 0, 0, .15) inset;
	transform: translateY(0);
	transition: transform .12s ease, box-shadow .2s ease, filter .2s ease;
}

.btn-brand:hover {
	filter: brightness(1.05);
	transform: translateY(-1px);
	box-shadow: 0 16px 28px rgba(29, 185, 84, .45), 0 2px 0
		rgba(0, 0, 0, .2) inset;
}

.btn-brand:active {
	transform: translateY(0);
	box-shadow: 0 8px 18px rgba(29, 185, 84, .35) inset;
}

.badge-soft {
	background: rgba(29, 185, 84, .18);
	color: #c9f7dd;
	border: 1px solid rgba(29, 185, 84, .35);
}

/* Footer */
footer {
	border-top: 1px solid rgba(255, 255, 255, .08);
	background: rgba(17, 24, 39, 0.6);
	backdrop-filter: blur(6px);
}

.footer-link {
	color: #94a3b8;
	text-decoration: none;
}

.footer-link:hover {
	color: #e5e7eb;
	text-decoration: underline;
}

/* Utility */
.max-w-700 {
	max-width: 700px;
}
</style>
	<!-- Navigation Bar -->
	<nav class="navbar navbar-expand-lg sticky-top"
		aria-label="Main navigation">
		<div class="container">
			<a class="navbar-brand d-flex align-items-center gap-2" href="#">
				<svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"
					class="text-success" aria-hidden="true">
					<path d="M10.5 3.5l-7 7 7 7M3.5 10.5h17" /></svg> <span>YouTube to
					Spotify Playlist Converter</span>
			</a>
			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div id="nav" class="collapse navbar-collapse">
				<ul class="navbar-nav ms-auto align-items-lg-center gap-lg-2">
					<li class="nav-item"><a class="nav-link" href="#features">Features</a></li>
					<li class="nav-item"><a class="nav-link" href="#faq">FAQ</a></li>
					<li class="nav-item"><a
						class="btn btn-sm btn-outline-light ms-lg-3"
						href="/oauth2/authorization/spotify">Link Spotify</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<!-- Hero / Main -->
	<main class="container hero">
		<div class="row justify-content-center">
			<div class="col-12 col-lg-10">
				<div class="p-4 p-md-5 app-card">
					<div class="text-center mb-4">
						<!-- Page title in H1 as requested -->
						<h1 class="mb-2">YouTube to Spotify Playlist Converter</h1>
						<p class="subtle mb-0">Paste a YouTube playlist and securely
							connect your Spotify to begin.</p>
					</div>

					<form id="yt-form" class="needs-validation max-w-700 mx-auto"
						th:action="@{/youtube/save/playlist}" method="POST" novalidate>
						<label for="playlistUrl" class="form-label">Enter your
							YouTube playlist link here</label>

						<div class="input-group input-group-lg mb-3">
							<span class="input-group-text" id="yt-icon" aria-hidden="true">ðŸŽµ</span>
							<input type="url" inputmode="url" class="form-control"
								id="playlistUrl" name="playlistUrl"
								placeholder="https://www.youtube.com/playlist?list=PL..."
								aria-describedby="ytHelp" required
								pattern="^(https?:\/\/(www\.)?(youtube\.com|youtu\.be)\/.*(list=)[A-Za-z0-9_-]+.*)$" />
						</div>
						<div id="ytHelp" class="form-text subtle mb-4">
							Supports full YouTube playlist URLs. Example:
							<code>https://www.youtube.com/playlist?list=PLxxxxxxxx</code>
						</div>
						<div class="d-grid gap-2 mb-4">
							<button type="submit" class="btn btn-primary btn-lg fw-bold">Submit
								Playlist</button>
						</div>
						<div class="d-grid gap-2">
							<!-- Big stylish button -->
							<a id="linkSpotify" href="/oauth2/authorization/spotify"
								class="btn btn-brand btn-lg" role="button"> Link your
								Spotify account </a>
						</div>

						<!-- Valid / invalid feedback -->
						<div class="mt-3" id="validationMsg" role="alert"
							aria-live="polite"></div>
					</form>

					<!-- Small features row -->
					<div id="features" class="row g-4 mt-5 text-center text-md-start">
						<div class="col-12 col-md">
							<span class="badge rounded-pill badge-soft">Fast</span>
							<h6 class="mt-2 mb-1">Oneâ€‘click linking</h6>
							<p class="subtle mb-0">Authenticate with Spotify using
								industryâ€‘standard OAuth 2.0.</p>
						</div>
						<div class="col-12 col-md">
							<span class="badge rounded-pill badge-soft">Accurate</span>
							<h6 class="mt-2 mb-1">Smart matching</h6>
							<p class="subtle mb-0">Match tracks by title, artist, and
								duration with fallbacks.</p>
						</div>
						<div class="col-12 col-md">
							<span class="badge rounded-pill badge-soft">Secure</span>
							<h6 class="mt-2 mb-1">Privacyâ€‘first</h6>
							<p class="subtle mb-0">Your playlist link is validated in the
								browser before any request.</p>
						</div>
					</div>

				</div>
			</div>
		</div>
	</main>

	<!-- Footer -->
	<footer class="py-5 mt-auto">
		<div class="container">
			<div class="row g-4 align-items-start">
				<div class="col-12 col-lg-5">
					<h5 class="mb-2">YouTube â†’ Spotify Converter</h5>
					<p class="subtle mb-3">Convert your favorite YouTube playlists
						into Spotify with a clean, reliable flow. Built with Spring Boot &
						OAuth 2.0.</p>
					<div class="d-flex gap-3 small subtle">
						<span>Â© <span id="year"></span> YTâ†”ï¸ŽSP Team
						</span> <span>â€¢</span> <span>v1.0.0</span>
					</div>
				</div>
				<div class="col-6 col-lg-3">
					<h6 class="mb-2">Resources</h6>
					<ul class="list-unstyled small mb-0">
						<li><a class="footer-link" href="#features">Features</a></li>
						<li><a class="footer-link" href="#faq">FAQ</a></li>
						<li><a class="footer-link" href="#">Changelog</a></li>
					</ul>
				</div>
				<div class="col-6 col-lg-4">
					<h6 class="mb-2">Support</h6>
					<ul class="list-unstyled small mb-0">
						<li><a class="footer-link"
							href="mailto:support@youtubetospotify.app">support@youtubetospotify.app</a></li>
						<li><a class="footer-link" href="#">Status</a></li>
						<li><a class="footer-link" href="#">Security</a></li>
					</ul>
				</div>
			</div>
		</div>
	</footer>

	<!-- Bootstrap Bundle (includes Popper) -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous"></script>

	<script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Simple client-side validation with live feedback
    (function(){
      const form = document.getElementById('yt-form');
      const input = document.getElementById('playlistUrl');
      const validationMsg = document.getElementById('validationMsg');
      const linkBtn = document.getElementById('linkSpotify');

      const ok = (msg) => {
        validationMsg.className = 'alert alert-success py-2 px-3';
        validationMsg.textContent = msg;
      };
      const err = (msg) => {
        validationMsg.className = 'alert alert-danger py-2 px-3';
        validationMsg.textContent = msg;
      };
      const clear = () => {
        validationMsg.className = '';
        validationMsg.textContent = '';
      };

      function validateUrl(value){
        // Must be a YouTube URL with a playlist list= param
        const re = /^(https?:\/\/)(www\.)?(youtube\.com|youtu\.be)\/.*(list=)[A-Za-z0-9_-]+/i;
        return re.test(value);
      }

      // On input, validate
      input.addEventListener('input', () => {
        const v = input.value.trim();
        if(!v){ clear(); return; }
        if(validateUrl(v)){
          input.classList.remove('is-invalid');
          input.classList.add('is-valid');
          ok('Looks good â€” valid YouTube playlist link.');
        } else {
          input.classList.remove('is-valid');
          input.classList.add('is-invalid');
          err('Please provide a valid YouTube playlist URL that contains a "list=" parameter.');
        }
      });

      // On submit, prevent submission if invalid
      form.addEventListener('submit', (e) => {
        if(!validateUrl(input.value.trim())){
          e.preventDefault();
          input.classList.add('is-invalid');
          err('Please provide a valid YouTube playlist URL before proceeding.');
        }
      });

      // Optional: guard the Spotify link if URL is invalid
      linkBtn.addEventListener('click', (e) => {
        // If the field exists and is invalid, block navigation
        const v = input.value.trim();
        if(v && !validateUrl(v)){
          e.preventDefault();
          input.focus();
          input.classList.add('is-invalid');
          err('Fix the playlist URL before linking your Spotify account.');
        }
      });
    })();
  </script>
</body>
</html>
